// Generated by CoffeeScript 1.9.1
(function() {
  casper.test.begin('Test the login procedure', 2, function(test) {
    casper.start('http://localhost:5000', function() {
      return test.assertTitle('Go', 'The front page title is the one expected');
    });
    casper.on('popup.created', function() {
      return this.echo("url popup created: " + this.getCurrentUrl(), "INFO");
    });
    casper.thenClick('#persona_login', function() {});
    casper.waitForPopup(/persona/, function() {});
    casper.withPopup(/persona/, function() {
      return test.assertTitleMatch(/Persona/i);
    });
    return casper.run(function() {
      return test.done();
    });
  });

}).call(this);
