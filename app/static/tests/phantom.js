// Generated by CoffeeScript 1.9.1
(function() {
  var check_status, click, page, print_title;

  click = function(element) {
    var ev;
    ev = document.createEvent("MouseEvent");
    ev.initMouseEvent("click", true, true, window, null, 0, 0, 0, 0, false, false, false, false, 0, null);
    return element.dispatchEvent(ev);
  };

  page = require('webpage').create();

  print_title = function(status) {
    var title;
    title = page.evaluate(function() {
      return document.title;
    });
    return console.log(title);
  };

  check_status = function(status) {
    var get_login_link, login_link;
    console.log("Status: " + status);
    get_login_link = function() {
      return document.getElementById('persona_login');
    };
    login_link = page.evaluate(get_login_link);
    click(login_link);
    return phantom.exit();
  };

  page.open('http://localhost:5000', check_status);

}).call(this);
